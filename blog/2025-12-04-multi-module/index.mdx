---
slug: mts-multi-module
title: 국내 MTS에 Multi Module 도입하기
authors: [way]
tags: [android,multi-module,mts,한국투자증권,한투]
---
안녕하세요, [한국투자증권](https://securities.koreainvestment.com/main/Main.jsp)에서 [한투-한국투자증권](https://play.google.com/store/apps/details?id=com.truefriend.neosmartarenewal&hl=ko) 개발을 담당하고 있는 way입니다.<br/>
국내 MTS 프로젝트에 적용하게 된 Multi Module에 대해 설명해드리겠습니다.<br/>

### 현재 프로젝트 구조

프로젝트에 여러 모듈이 존재하지만, 3rd party 라이브러리들이 다수이고, 각 Feature들을 재사용하기에 적합하지 않은 상태였습니다.<br/>
이를 해결하기 위해 Multi Module 구조로 전환하는 작업을 진행했습니다.<br/>
대략적인 프로젝트 구조는 대략 다음과 같습니다.

```text
.
├── app
├── 3rd_party_library_1
├── 3rd_party_library_2
├── 3rd_party_library_3
├── 3rd_party_library_4
└── formdeCore
```
<div style={{textAlign: 'center', margin: '1.5rem 0'}}>
  <img src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExNzZ6YjJlN2J2Y3R6cHU4enV3N2RuODJweGZqemU2Zm53OWdyZmY5MyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Nx85vtTY70T3W/giphy.gif" alt="Success" style={{maxWidth: '100%', borderRadius: '8px', maxHeight: '250px'}} />
</div>

### MultiModule 적용

Multi Module 구조로 전환하면서, 모듈의 상단 명칭을 core, library, features, plugins, resources 등으로 구분하여 관리하기로 했습니다.<br/>
구체적인 디렉토리 구조는 다음과 같습니다.

```text
.
├── app/
├── core/
│   ├── analytics/
│   ├── asset-file/
│   ├── autorization/
│   ├── common/
│   ├── database/
│   ├── datastore/
│   ├── encrypt/
│   ├── network/
│   ├── on-foreground-service/
│   ├── push/
│   ├── remote-file/
│   ├── state-viewmodel/
│   ├── testing/
│   ├── ui/
│   └── ui-xml/
├── features/
│   ├── common/
│   │   ├── ui/
│   │   └── logic/
│   ├── community/
│   │   ├── ui/
│   │   └── logic/
│   ├── developer/
│   │   ├── ui/
│   │   └── logic/
│   ├── event/
│   │   ├── ui/
│   │   └── logic/
│   ├── menu/
│   │   ├── ui/
│   │   └── logic/
│   ├── my-assets/
│   │   ├── ui/
│   │   └── logic/
│   └── product-type/
│       ├── ui/
│       └── logic/
├── library/
│   ├── formdeCore/
│   ├── 3rd_party_library_1/
│   ├── 3rd_party_library_2/
│   ├── 3rd_party_library_3/
│   └── 3rd_party_library_4/
├── plugins/
│   ├── annotation/
│   ├── lint/
│   └── symobl-processor/
└── resources/
```

#### app
- 최종적으로 빌드되는 어플리케이션 모듈입니다.

#### core
- 프로젝트 전반에서 공통으로 사용되는 기능들을 포함하는 모듈입니다.<br/>
예를 들어, 네트워크 통신, 데이터베이스 관리, 인증 처리 등의 기능들이 여기에 속합니다.

#### features
- 실제 어플리케이션의 기능 단위들을 모듈화한 것입니다.<br/>
각 기능은 독립적으로 개발 및 테스트가 가능하도록 구성되어 있습니다.<br/>
예를 들어, 커뮤니티, 이벤트, 메뉴 관리 등의 기능들이 여기에 속합니다.

- logic
    - 각 기능 모듈 내에서 비즈니스 로직을 담당하는 부분입니다.<br/>
해당 모듈에서는 기능에 필요한 모델과 비즈니스 로직을 구현합니다. 이를 통해 UI와의 분리를 유지하고, 다른 feature 모듈에서도 재사용할 수 있도록 합니다.
- ui
    - 각 기능 모듈 내에서 사용자 인터페이스를 담당하는 부분입니다.<br/>

#### library
- 3rd party 라이브러리나 공통으로 사용되는 라이브러리들을 관리하는 모듈입니다.<br/>

#### plugins
- 프로젝트에 적용되는 Gradle 플러그인들을 관리하는 모듈입니다.<br/>
예를 들어, 커스텀 Lint 검사기나 어노테이션 프로세서 등이 여기에 속합니다.

#### resources
- 이미지, 문자열, 레이아웃 파일 등과 같은 리소스 파일들을 관리하는 모듈입니다.

### 마치며

이와 같은 Multi Module 구조를 도입함으로써, 코드의 재사용성이 향상되고, 각 모듈 간의 의존성을 명확히 관리할 수 있게 되었습니다.<br/>
또한, 각 모듈을 독립적으로 개발하고 테스트할 수 있어 개발 효율도 크게 증가했습니다.



<div style={{textAlign: 'center', margin: '1.5rem 0'}}>
  <img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExN3AzOTlpaXJzMjdsbWVtMDhzano3M3dyaG42MmpmbWVucGowbzQwOCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/uoQHi35INTkg4ePrbz/giphy.gif" alt="Success" style={{maxWidth: '100%', borderRadius: '8px', maxHeight: '250px'}} />
</div>
